(()=>{"use strict";var e={853:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.EMessageTypes=void 0,function(e){e[e.overlay=0]="overlay",e[e.sidebar=1]="sidebar",e[e.create=2]="create",e[e.toggleNoteVisibility=3]="toggleNoteVisibility",e[e.updateIsNoteShowing=4]="updateIsNoteShowing",e[e.none=5]="none"}(s||(t.EMessageTypes=s={}))}},t={};function s(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,s),a.exports}(()=>{const e=s(853);let t=!1;chrome.runtime.onMessage.addListener((s=>{const o=JSON.parse(s);o.type===e.EMessageTypes.updateIsNoteShowing&&(t=o.result,r("toggle"))}));const o=e=>chrome.tabs.sendMessage(e.tabId.id,e.message),r=e=>{chrome.contextMenus.update(e,{title:(t?"Hide":"Show")+" Notes"})};chrome.contextMenus.onClicked.addListener(((t,s)=>{if(!s||!t)return;const a={message:JSON.stringify({type:e.EMessageTypes.none}),info:t,tabId:s};switch(t.menuItemId){case"Create Note":a.message=JSON.stringify({type:e.EMessageTypes.create}),o(a);break;case"overlay":a.message=JSON.stringify({type:e.EMessageTypes.overlay}),o(a);break;case"sidebar":a.message=JSON.stringify({type:e.EMessageTypes.sidebar}),o(a);break;case"toggle":a.message=JSON.stringify({type:e.EMessageTypes.toggleNoteVisibility}),o(a).then((e=>{console.log("got response"),r("toggle")}))}})),chrome.runtime.onInstalled.addListener((()=>{chrome.contextMenus.create({title:"Create Note",contexts:["selection"],id:"Create Note"});const e=chrome.contextMenus.create({title:"NoteMaster",id:"parent"});chrome.contextMenus.create({title:(t?"Hide":"Show")+" Notes",parentId:e,id:"toggle"}),chrome.contextMenus.create({title:"Overlay notes",parentId:e,id:"overlay"}),chrome.contextMenus.create({title:"Sidebar notes",parentId:e,id:"sidebar"})}))})()})();
//# sourceMappingURL=background.js.map